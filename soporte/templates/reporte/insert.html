{% extends 'base/base.html' %}

{% load static %}

{% block extracss %} 
{% endblock %}

{% block title%}
Registrar Reporte
{% endblock%}

{% block button1%}
<button type="button" class="btn btn-secondary" onclick="window.location.href='{% url 'reporte_index' %}'">
    <i class="far fa-arrow-alt-circle-left"></i>Volver
</button>
{% endblock%}

{% block scripts %}
<script src="{% static 'js/sweetalert2.all.min.js' %}"></script>
{% endblock %}

{% block content %} 
<form action="" method="post">
    <form method="post">
        {% csrf_token %}
        {{form}}
        <div class="form-group mt-3">
            <input type="submit" value="Registrar" class="btn btn-success float-end text-white w-100" name="login-btn">
        </div>
    </form>
</form>
{% endblock %}

{% block extrajs %}
<script>
    {% if form.errors %}
        var errors = '';
        {% for field in form %}
            {% for error in field.errors %}
                errors += '{{field.label}}: {{ error }} <br>';
            {% endfor %}
        {% endfor %}
        if(errors === ''){
            {% for error in form.non_field_errors %}
                errors += '{{ error }}';
            {% endfor %}
        };
        Swal.fire({
            icon: 'error',
            title: 'Alerta',
            html: errors,
            {% comment %} footer: '<a href="#">Why do I have this issue?</a>' {% endcomment %}
        })
    {% endif %}
</script> 
{% endblock %}

{% comment %} <div class="mb-3">
    <label for="id_username" class="form-label">Usuario:</label> 
    <input type="text" name="username" autofocus="" required="" class="form-control" autocomplete="off" id="id_username" >           
</div>
<div class="mb-3">
    <label for="id_first_name" class="form-label">Nombre:</label> 
    <input type="text" name="first_name" autofocus="" required="" id="id_first_name" class="form-control" autocomplete="off">           
</div>
<div class="mb-3">
    <label for="id_last_name" class="form-label">Apellidos:</label> 
    <input type="text" name="last_name" autofocus="" required="" id="id_last_name" class="form-control" autocomplete="off">           
</div>
<div class="mb-3">
    <label for="id_email" class="form-label">Correo:</label> 
    <input type="email" name="email" autofocus="" required="" id="id_email" class="form-control" autocomplete="off">           
</div>
<div class="mb-3">
    <label for="id_password1" class="form-label">Contraseña:</label>
    <input type="password" name="password1" required="" id="id_password1" class="form-control" minlength="8" autocomplete="nope">
</div>
<div class="mb-3">
    <label for="id_password2" class="form-label">Contraseña (confirmación):</label>
    <input type="password" name="password2" required="" id="id_password2" class="form-control" minlength="8" autocomplete="nope">
</div> {% endcomment %}